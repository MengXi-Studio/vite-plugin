# 为 injectIco 插件添加 enabled 参数

## 目标

为 injectIco 插件添加一个 `enabled` 参数，用于控制是否执行图标注入和文件复制功能，使用户可以根据环境或其他条件灵活控制插件的执行。

## 实现方案

1. **修改类型定义**：在 `InjectIcoOptions` 接口中添加 `enabled` 选项
2. **更新插件实现**：
   - 在插件初始化时获取 `enabled` 参数
   - 在 `transformIndexHtml` 钩子中检查 `enabled` 选项，如果为 `false` 则跳过执行
   - 在 `writeBundle` 钩子中检查 `enabled` 选项，如果为 `false` 则跳过执行
3. **更新文档和示例**：添加 `enabled` 选项的说明和使用示例

## 具体修改

### 1. 修改类型定义文件 (`type.ts`)

* 在 `InjectIcoOptions` 接口中添加 `enabled` 选项，类型为布尔值，默认值为 `true`
* 更新 TSDoc 注释，说明 `enabled` 选项的作用

### 2. 修改插件实现文件 (`index.ts`)

* 更新配置获取方式：从 `normalizedOptions` 中获取 `enabled` 参数，默认值为 `true`
* 在 `transformIndexHtml` 钩子中添加检查：如果 `enabled` 为 `false`，则跳过图标注入操作
* 在 `writeBundle` 钩子中添加检查：如果 `enabled` 为 `false`，则跳过文件复制操作
* 添加日志输出，当 `enabled` 为 `false` 且 `verbose` 为 `true` 时，显示跳过执行的信息

### 3. 更新文档和示例

* 修改 TSDoc 注释，说明 `enabled` 选项的作用
* 添加示例代码，展示如何使用 `enabled` 选项控制插件执行

## 关键技术点

* 保持向后兼容性，确保现有代码仍能正常工作
* 提供合理的默认值，确保插件默认行为不变
* 统一控制图标注入和文件复制功能
* 提供详细的 TSDoc 注释和示例

## 预期效果

* 用户可以通过 `enabled` 参数控制 injectIco 插件是否执行
* 默认行为保持不变，与现有代码兼容
* 支持根据环境或其他条件动态控制插件执行

## 文件修改列表

1. `packages/core/src/plugins/injectIco/type.ts`：添加 `enabled` 选项到类型定义
2. `packages/core/src/plugins/injectIco/index.ts`：更新插件实现，添加 `enabled` 参数检查

## 使用示例

```typescript
// 基本使用（默认启用）
injectIco({ base: '/assets' })

// 在生产环境中启用
injectIco({
  base: '/assets',
  enabled: process.env.NODE_ENV === 'production'
})

// 带文件复制功能，禁用插件
injectIco({
  base: '/assets',
  enabled: false,
  copyOptions: {
    sourceDir: 'src/assets/icons',
    targetDir: 'dist/assets/icons'
  }
})
```